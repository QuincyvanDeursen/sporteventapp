<div class="container bg-dark p-5 title fw-bold">
  <h1 class="title">Maak een Event aan!</h1>
  <hr class="rounded" />
  <div class="row">
    <form
      #eventCreateForm="ngForm"
      name="form"
      (ngSubmit)="onClickSubmit()"
      novalidate
    >
      <div class="form-row">
        <div class="col">
          <label for="title">Title</label>
          <input
            type="text"
            name="title"
            class="form-control"
            placeholder="Vul hier in de titel"
            [(ngModel)]="EventToUpdate.title"
            #title="ngModel"
            minlength="3"
            required
          />
          <div
            *ngIf="title.invalid && (title.dirty || title.touched)"
            class="alert alert-danger mt-1"
          >
            <div *ngIf="title.errors!['required']">Een titel is verplicht.</div>
            <div *ngIf="title.errors!['minlength']">
              Titel moet minimaal 3 karakters lang zijn.
            </div>
          </div>
        </div>
        <div class="col">
          <label for="description">Beschrijving</label>
          <input
            type="text"
            name="description"
            class="form-control"
            [(ngModel)]="EventToUpdate.description"
            #description="ngModel"
            placeholder="Beschrijf het evenement hier"
            minlength="30"
            required
          />
          <div
            *ngIf="
              description.invalid && (description.dirty || description.touched)
            "
            class="alert alert-danger mt-1"
          >
            <div *ngIf="description.errors!['required']">
              Een beschrijving is verplicht.
            </div>
            <div *ngIf="description.errors!['minlength']">
              Beschrijving moet minimaal 30 karakters lang zijn.
            </div>
          </div>
        </div>
        <div class="col">
          <label for="price">Prijs</label>
          <input
            type="number"
            name="price"
            class="form-control"
            [(ngModel)]="EventToUpdate.price"
            #price="ngModel"
            min="1"
            required
          />
          <div
            *ngIf="price.invalid && (price.dirty || price.touched)"
            class="alert alert-danger mt-1"
          >
            <div *ngIf="price.errors!['required']">
              Voer een prijs in van minimaal 1 euro.
            </div>
            <div *ngIf="price.errors!['min']">
              Voer een prijs in van minimaal 1 euro.
            </div>
          </div>
        </div>

        <div class="col">
          <label for="Date">Datum en Starttijd</label>

          <input
            type="datetime-local"
            name="date"
            class="form-control"
            [(ngModel)]="eventDateString"
            #date="ngModel"
            required
          />
          <div
            *ngIf="date.invalid && (date.dirty || date.touched)"
            class="alert alert-danger mt-1"
          >
            <div *ngIf="date.errors!['required']">Voer een Datum in</div>
          </div>
        </div>

        <div class="col">
          <label for="duration">Tijdsduur (minuten):</label>
          <input
            type="number"
            name="duration"
            class="form-control"
            [(ngModel)]="EventToUpdate.durationInMin"
            #duration="ngModel"
            min="1"
            required
          />
          <div
            *ngIf="duration.invalid && (duration.dirty || duration.touched)"
            class="alert alert-danger mt-1"
          >
            <div *ngIf="price.errors!['required']">
              Voer een prijs in van minimaal 1 euro.
            </div>
            <div *ngIf="duration.errors!['min']">
              Voer een tijdsduur in van minimaal 1 minuut.
            </div>
          </div>
        </div>

        <div class="col">
          <label for="type">Type event</label>
          <select
            name="type"
            class="form-control"
            [(ngModel)]="EventToUpdate.type"
            #type="ngModel"
            [title]=""
            required=""
          >
            <option *ngFor="let name of types" [ngValue]="name">
              {{ name }}
            </option>
          </select>
          <div
            *ngIf="type.invalid && (type.dirty || type.touched)"
            class="alert alert-danger mt-1"
          >
            <div *ngIf="type.errors!['required']">
              Geef het type van het evenement aan.
            </div>
          </div>
        </div>
        <div class="col">
          <label for="maxEnrollments">Beschikbare plekken: </label>
          <input
            type="number"
            name="maxEnrollments"
            class="form-control"
            [(ngModel)]="EventToUpdate.maxEnrollments"
            #maxEnrollments="ngModel"
            min="1"
            required
          />
          <div
            *ngIf="
              maxEnrollments.invalid &&
              (maxEnrollments.dirty || maxEnrollments.touched)
            "
            class="alert alert-danger mt-1"
          >
            <div *ngIf="maxEnrollments.errors!['required']">
              Geef het aantalbeschikbare plekken aan.
            </div>
            <div *ngIf="maxEnrollments.errors!['min']">
              Het minimale aantal deelnemers is 1.
            </div>
          </div>
        </div>
      </div>
      <div class="row py-3">
        <div class="col">
          <button
            type="submit"
            class="btn btn-primary mx-2"
            [disabled]="!eventCreateForm.valid"
          >
            Submit
          </button>
          <button class="btn btn-warning mx-2" routerLink="..">Cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>
